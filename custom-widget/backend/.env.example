PORT=3002

# AI Provider Configuration - Now managed via admin settings interface
# These are only used as fallbacks if database settings are not available
AI_PROVIDER=openrouter
# Options: flowise, openrouter

# Flowise configuration - Managed via admin settings interface
# FLOWISE_URL=https://your-flowise-instance.com
# FLOWISE_CHATFLOW_ID=your-chatflow-id
# FLOWISE_API_KEY=your-flowise-api-key

# OpenRouter configuration - Managed via admin settings interface
# OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key
# OPENROUTER_MODEL=google/gemini-2.5-flash
# SITE_URL=http://localhost:3002
# SITE_NAME=Vilniaus chatbot

# System prompt - Now managed via admin settings interface
# SYSTEM_PROMPT=...

# RAG/AI Configuration - Now managed via admin settings interface
# These are only used as fallbacks if database settings are not available
# RAG_K=100
# RAG_SIMILARITY_THRESHOLD=0.7
# RAG_MAX_TOKENS=2000

# AI Auto-Categorization Configuration
ENABLE_AUTO_CATEGORIZATION=true
AUTO_CATEGORIZATION_IDLE_MINUTES=15
AUTO_CATEGORIZATION_MIN_MESSAGES=3

# Conversation Search Configuration
CONVERSATION_MESSAGES_LIMIT=50

# Agent Activity Configuration
AGENT_ACTIVITY_TIMEOUT_MINUTES=5

# File Upload Configuration
MAX_FILE_UPLOAD_SIZE_MB=10
UPLOADS_DIR=./uploads

# Mistral Configuration for Embeddings
MISTRAL_API_KEY=your-mistral-api-key

# Chroma DB Configuration
CHROMA_URL=https://api.trychroma.com
CHROMA_TENANT=your-chroma-tenant-id
CHROMA_DATABASE=your-database-name
CHROMA_AUTH_TOKEN=your-chroma-auth-token

# Widget Customization - Now managed via admin settings interface
# These are only used as fallbacks if database settings are not available
WIDGET_NAME=Vilnius Assistant
WIDGET_PRIMARY_COLOR=#2c5530
PRIVACY_CHECKBOX_TEXT="I agree to the Privacy Policy and Terms of Service."
WIDGET_ALLOWED_DOMAINS=*

# CORS Security Configuration
# ADMIN_ALLOWED_ORIGINS - Origins allowed to access admin endpoints (settings, agent dashboard)
# Default: 'same-origin' (same domain only, no cross-origin requests)
# Production: Set to your admin domain (e.g., 'https://admin.example.com')
# Multiple origins: Comma-separated (e.g., 'https://admin1.com,https://admin2.com')
# Development: Can use '*' for testing, but NOT recommended for production
ADMIN_ALLOWED_ORIGINS=same-origin

# Database Configuration
DATABASE_URL="postgresql://vilnius_user:secure_password@localhost:5432/vilnius_support"

# JWT Authentication (REQUIRED FOR PRODUCTION!)
# These are REQUIRED for the app to start - generate secure secrets for production
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-refresh-token-secret-change-this-in-production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Emergency Admin Recovery (REQUIRED FOR PRODUCTION!)
ADMIN_RECOVERY_KEY=your-emergency-recovery-key-change-this-in-production

# TOTP/2FA Encryption (REQUIRED IF USING 2FA!)
# Used for encrypting TOTP secrets in the database
# Must be at least 32 characters long - generate a secure random string for production
TOTP_ENCRYPTION_KEY=your-32-character-encryption-key-for-2fa-change-in-production

# Application Settings
NODE_ENV=development

# Structured Logging Configuration
LOG_LEVEL=info
LOG_TO_FILE=false
LOG_TO_DATABASE=true
LOG_DIR=./logs

# Langfuse Configuration (Optional - for advanced prompt management)
# Uncomment and configure these to enable Langfuse prompt management in the Context Engineering UI
# LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key-here
# LANGFUSE_SECRET_KEY=sk-lf-your-secret-key-here
# LANGFUSE_BASE_URL=https://cloud.langfuse.com
# LANGFUSE_DEBUG=false
# USE_LANGFUSE_PROMPTS=false

# Testing/Development: Uncomment these fake credentials to test the Langfuse UI toggle functionality
# LANGFUSE_PUBLIC_KEY=pk-lf-test12345678
# LANGFUSE_SECRET_KEY=sk-lf-test12345678